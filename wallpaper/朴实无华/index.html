<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="./css/clock.css">
    <style>
        
        /* main.css */
        * {
            padding: 0;
            margin: 0;
            transition: all .5s;
        }
        main {
            position: absolute;
            width: 100vw;
            height: 100vh;
            background: center center url(./img/day.jpg) no-repeat #E2FBF5;
            background-size: contain;
        }
        main.night {
            background-image: url(./img/night.jpg);
            background-color: #7A81B7;
        }

        /* test */
        button.aaa {
            position: fixed;
            right: 100px;
            top: 100px;
            width: 50px;
            height: 50px;
        }
        button.bbb {
            position: fixed;
            right: 100px;
            top: 200px;
            width: 50px;
            height: 50px;
        }
        #reminder {
            position: fixed;
            bottom: 0;
            height: 500px;
            width: 200px;
            display: flex;
            flex-wrap: wrap;
            left: -50vw;
        }
        #reminder .img {
            background: url("./img/22222.png") right center no-repeat;
            background-size: contain;
            height: 300px;
            width: 150px;
            transform: rotateY(180deg)
        }
        #reminder .text {
            position: absolute;
            top: -30px;
            left: 30px;
            background: #fffa;
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            border-radius: 15px;
            border: solid #fff;
        }
        #reminder .text::before {
            content: "";
            display: block;
            position: absolute;
            bottom: -30px;
            left: 20px;
            border-left: solid 15px #0000;
            border-top: solid 15px #fff;
            border-right: solid 15px #0000;
            border-bottom: solid 15px #0000;
        }
    </style>
</head>
<body>
    <main>
        <div id="ClockComponents">
            <div class="calendars">
                <div class="week"></div>
                <div class="month"></div>
                <div class="day"></div>
            </div>
            <div class="clock">
                <div class="hour">23</div>
                <span>:</span>
                <div class="minutes">33</div>
            </div>
            <div id="message"></div>
        </div>
        <!-- <button class="aaa" onclick="document.querySelector('main').classList.add('night');document.querySelector('#ClockComponents').className='night'">üåô</button>
        <button class="bbb" onclick="document.querySelector('main').classList.remove('night');document.querySelector('#ClockComponents').className=''">‚òÄ</button> -->
        <div id="reminder">
            <div class="text">Âà´Êë∏È±ºÂï¶!(#ÔΩÄ-_„Çù-) ËØ•Âπ≤Âï•Âπ≤Âï•Âéª!</div>
            <div class="img"></div>
        </div>
    </main>

    <script src="./js/Clock.js"></script>
    <script src="./js/Timer.js"></script>
    <script>
        // ÂàõÂª∫Ëé∑ÂèñÊó∂Èó¥ÁöÑÊó∂ÈíüÁªÑ‰ª∂
        let clockComponents = new ClockComponents("#ClockComponents")
        clockComponents.putTime()

        function randomNum(minNum,maxNum){ 
            switch(arguments.length){ 
                case 1: 
                    return parseInt(Math.random()*minNum+1,10); 
                break; 
                case 2: 
                    return parseInt(Math.random()*(maxNum-minNum+1)+minNum,10); 
                break; 
                    default: 
                        return 0; 
                    break; 
            } 
        } 

        // ÂàõÂª∫ËÆ°Êó∂Âô® Âπ∂ÊåáÂÆöÂÆöÊó∂Âô®ÁöÑÈó¥Èöî
        let timer = new Timer(1000)
        // ÂêëËÆ°Êó∂Âô®Ê∑ªÂä†‰ªªÂä°
        timer.addTesk(()=> {
            // Âà∑Êñ∞Êó∂Èó¥
            clockComponents.putTime()
        })
        timer.addTesk(()=> {
            // Êó•Â§úÂæ™ÁéØ
            if (clockComponents.getTime().hours >= 19 || clockComponents.getTime().hours <= 5) {
                document.querySelector('main').classList.add('night')
                document.querySelector('#ClockComponents').classList.add('night')
            }else if (clockComponents.getTime().hours >= 5) {
                document.querySelector('main').classList.remove('night')
                document.querySelector('#ClockComponents').classList.remove('night')
            }
        })
        timer.addTesk(()=> {
            // ÊØè‰∏ÄÊÆµÊó∂Èó¥ÊòæÁ§∫‰∏çÂêåÁöÑÊ∂àÊÅØ
            let text = ""
            let time = clockComponents.getTime().hours
            if (time <= 3) {
                text = "ÁÜ¨Â§úÂØπË∫´‰Ωì‰∏çÂ•ΩÂì¶ ‰ΩÜÊòØ‰∏çÁÆ°ÊÄéÊ†∑ËØ∑Âä†Ê≤π(‡πë‚Ä¢ÃÄ„ÖÇ‚Ä¢ÃÅ)Ÿà‚úß"
            }
            if (time >= 4) {
                text = "Ëµ∂Á¥ßÂéªÁù°ËßâÂïä Ê∑∑Ëõã(„ÉéÔΩÄ–î)„Éé"
            }
            if (time >= 7) {
                text = "Êó©‰∏äÂ•ΩÂïä‚ï∞(Ôø£œâÔø£ÔΩè)"
            }
            if (time >= 12 && time <= 13) {
                text = "‰∏≠ÂçàÂêÉÁöÑÂï•ÂëÄo(*Ôø£‚ñΩÔø£*)„Éñ"
            }
            if (time >= 14 && time <= 17) {
                text = "‰∏ãÂçàÂ•ΩÁÉ≠Âì¶ÔºàÔºõ¬¥–¥ÔΩÄÔºâ„Çû"
            }
            if (time >= 18 && time <= 19) {
                text = "(*Ôø£3Ôø£)‚ï≠ËØ•ÂêÉÊôöÈ•≠‰∫ÜÂì¶"
            }
            if (time >= 20 && time <= 23) {
                text = "Êôö‰∏äÂ•ΩÂïä„Éæ(^‚ñΩ^*)))"
            }
            if (time >= 23) {
                text = "ÁÜ¨Â§úÂØπË∫´‰Ωì‰∏çÂ•ΩÂì¶ ‰ΩÜÊòØ‰∏çÁÆ°ÊÄéÊ†∑ËØ∑Âä†Ê≤π(‡πë‚Ä¢ÃÄ„ÖÇ‚Ä¢ÃÅ)Ÿà‚úß"
            }
            
            document.querySelector("#message").innerHTML = text
        })
        timer.addTesk(()=> {
            let num1 = randomNum(30, 60)
            let num2 = randomNum(0, 2)
            let imgList = [
                "./img/22222.png",
                "./img/33333.png",
                "./img/11111.png",
            ]
            let reminder = document.querySelector("#reminder")
            let textDom = document.querySelector("#reminder .text")
            let imgDom = document.querySelector("#reminder .img")
            if (num1 == 45) {
                reminder.style.left = "0vw"
                imgDom.style.backgroundImage = "url("+imgList[num2]+")"
                textDom.style.top = "-" + ((10*num2*3)+30) + "px"
            }else {
                setTimeout(() => {
                    reminder.style.left = "-50vw" 
                }, 1000);
            }
        })
        // ËøêË°åËÆ°Êó∂Âô®
        timer.start()
    </script>
</body>
</html>